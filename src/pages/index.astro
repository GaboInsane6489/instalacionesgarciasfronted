---
// ============================================
// IMPORTS - Componentes y utilidades necesarias
// ============================================
import Layout from "../layouts/Layout.astro";
import GlobalVideoBackground from "../components/GlobalVideoBackground.astro";
import ServiceCard from "../components/ServiceCard.astro";
import SolutionsGuide from "../components/SolutionsGuide.jsx";
import HomeCarousel from "../components/HomeCarousel.jsx";
import ImmersiveWrapper from "../components/ImmersiveWrapper.astro";
import FAQ from "../components/FAQ.jsx";
import {
  Zap,
  Wrench,
  Building2,
  Award,
  Users,
  Clock,
  Shield,
  CheckCircle2,
  MessageSquare,
  Star,
  ArrowRight,
} from "lucide-react";

// Assets
import videoLanding from "../assets/videos/VideoLandig.mp4";
import mobileImage from "../assets/images/Construction1.webp";
---

<Layout title="Inicio - Instalaciones García c.a">
  <!-- ============================================ -->
  <!-- HERO SECTION - Video de fondo con CTA principal -->
  <!-- ============================================ -->
  <!-- ============================================ -->
  <!-- FIXED VIDEO BACKGROUND -->
  <!-- ============================================ -->
  <!-- ============================================ -->
  <!-- ============================================ -->
  <!-- GLOBAL VIDEO BACKGROUND -->
  <!-- ============================================ -->
  <GlobalVideoBackground
    videoUrl={videoLanding}
    mobileImage={mobileImage.src}
  />

  <!-- ============================================ -->
  <!-- HERO SECTION - CTA principal -->
  <!-- ============================================ -->
  <section class="relative min-h-screen flex items-center justify-center pt-20 overflow-hidden">
    <div class="container mx-auto px-6 relative z-20 text-center">
      <div class="overflow-hidden mb-8">
        <h1
          class="text-5xl md:text-7xl font-bold text-transparent bg-clip-text bg-gradient-to-b from-white via-white to-white/50 tracking-tight animate-mask-reveal"
        >
          Instalaciones García c.a
        </h1>
      </div>
      <div class="overflow-hidden mb-10">
        <p
          class="text-xl md:text-2xl text-gray-200 max-w-3xl mx-auto animate-mask-reveal-delay font-light"
        >
          Soluciones eléctricas y proyectos institucionales con estándares de
          <span class="text-white font-semibold">excelencia</span>.
        </p>
      </div>

      <div class="flex flex-col items-center gap-8">
        <a
          href="/servicios"
          class="inline-block px-8 py-4 bg-white text-black font-bold rounded-full hover:bg-gray-200 transition-all duration-300 transform hover:scale-105 shadow-[0_0_30px_rgba(255,255,255,0.3)] animate-fade-in-up"
        >
          Explorar Servicios
        </a>
        
        <!-- Scroll Indicator -->
        <div class="animate-bounce mt-8 opacity-0 animate-fade-in-up" style="animation-delay: 1s;">
          <div class="w-6 h-10 border-2 border-white/30 rounded-full flex justify-center p-1">
            <div class="w-1 h-2 bg-white rounded-full animate-scroll-down"></div>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- ============================================ -->
  <!-- SERVICES SECTION - Grid de servicios principales -->
  <!-- ============================================ -->
  <!-- ============================================ -->
  <!-- SERVICES SECTION - Grid de servicios principales -->
  <!-- ============================================ -->
  <section class="py-24 relative overflow-hidden z-10 bg-primary/95 backdrop-blur-sm">
    <!-- Decoración de fondo -->
    <div
      class="absolute inset-0 bg-gradient-to-b from-transparent via-black/50 to-transparent pointer-events-none"
    >
    </div>

    <div class="container mx-auto px-6 relative z-10">
      <!-- Encabezado de sección -->
      <div class="text-center mb-16 fade-in-section">
        <h2 class="text-3xl md:text-5xl font-bold text-white mb-6">
          Nuestros Servicios
        </h2>
        <p class="text-text-muted max-w-2xl mx-auto text-lg">
          Ofrecemos un abanico de soluciones técnicas especializadas para
          empresas e instituciones, con un enfoque en calidad, seguridad y
          cumplimiento normativo.
        </p>
      </div>

      <!-- Grid de tarjetas de servicios con Spotlight Container -->
      <div
        id="spotlight-container"
        class="grid grid-cols-1 md:grid-cols-3 gap-8 fade-in-section spotlight-group"
        style="--mouse-x: 0px; --mouse-y: 0px;"
      >
        <ServiceCard
          title="Instalaciones Eléctricas"
          description="Diseño y ejecución de sistemas eléctricos de alta y baja tensión para complejos industriales. Incluye planificación detallada, selección de materiales certificados y documentación técnica completa."
          Icon={Zap}
        />
        <ServiceCard
          title="Mantenimiento Industrial"
          description="Planes preventivos y correctivos para asegurar la continuidad operativa de su infraestructura. Incluye inspecciones periódicas, monitoreo de sistemas y reportes detallados."
          Icon={Wrench}
        />
        <ServiceCard
          title="Proyectos Institucionales"
          description="Gestión integral de obras para el sector público y privado, cumpliendo normativas vigentes. Coordinación con proveedores y supervisión de equipos multidisciplinarios."
          Icon={Building2}
        />
      </div>
    </div>
  </section>

  <!-- ============================================ -->
  <!-- SOLUTIONS GUIDE - Guía interactiva de soluciones -->
  <!-- ============================================ -->
  <SolutionsGuide client:idle />

  <!-- ============================================ -->
  <!-- NEW HOME CAROUSEL - Galería destacada -->
  <!-- ============================================ -->
  <HomeCarousel client:visible />

  <!-- ============================================ -->
  <!-- IMMERSIVE SECTIONS - Video compartido -->
  <!-- ============================================ -->
  <ImmersiveWrapper>
    <!-- Section 1: Innovation -->
    <section class="min-h-screen flex items-center justify-center py-24">
      <div class="container mx-auto px-6">
        <div class="grid grid-cols-1 lg:grid-cols-2 gap-16 items-center">
          <div class="fade-in-section">
            <h2 class="text-5xl md:text-7xl font-bold text-white mb-8 leading-tight tracking-tighter">
              Built for<br />
              <span class="text-transparent bg-clip-text bg-gradient-to-r from-blue-400 to-purple-400 animate-pulse">Productivity</span><br />
              and Beyond.
            </h2>
            <p class="text-xl text-gray-300 max-w-lg leading-relaxed mb-10">
              Redefinimos los estándares de la construcción industrial con tecnología de punta y procesos optimizados que garantizan resultados superiores.
            </p>
            <a href="/servicios" class="inline-flex items-center gap-2 text-white font-bold border-b border-white pb-1 hover:text-blue-400 hover:border-blue-400 transition-all group">
              Descubrir Innovación <ArrowRight className="w-5 h-5 group-hover:translate-x-2 transition-transform" />
            </a>
          </div>
          <div class="hidden lg:block relative fade-in-section" style="transition-delay: 200ms;">
            <!-- Decorative Element -->
            <div class="absolute -inset-4 bg-gradient-to-r from-blue-500/20 to-purple-500/20 blur-3xl rounded-full animate-pulse"></div>
            <div class="relative bg-white/5 backdrop-blur-xl border border-white/10 p-8 rounded-3xl hover:bg-white/10 transition-colors duration-500">
              <div class="flex items-center gap-4 mb-6">
                <div class="w-12 h-12 rounded-full bg-blue-500/20 flex items-center justify-center">
                  <Zap className="w-6 h-6 text-blue-400" />
                </div>
                <div>
                  <h3 class="text-white font-bold text-lg">Eficiencia Energética</h3>
                  <p class="text-gray-400 text-sm">Ahorro garantizado</p>
                </div>
              </div>
              <div class="h-2 bg-white/10 rounded-full overflow-hidden">
                <div class="h-full w-[85%] bg-gradient-to-r from-blue-400 to-purple-400 rounded-full relative overflow-hidden">
                    <div class="absolute inset-0 bg-white/20 animate-shine"></div>
                </div>
              </div>
              <div class="mt-4 flex justify-between text-sm text-gray-400">
                <span>Rendimiento</span>
                <span class="text-white font-bold counter-value" data-target="98">0</span>%
              </div>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- Section 2: Future Vision -->
    <section class="min-h-screen flex items-center justify-center py-24">
      <div class="container mx-auto px-6">
        <div class="max-w-4xl mx-auto text-center fade-in-section">
          <span class="inline-block py-1 px-3 rounded-full bg-white/10 border border-white/20 text-xs font-bold tracking-wider text-white mb-8 backdrop-blur-md">
            VISIÓN 2030
          </span>
          <h2 class="text-5xl md:text-8xl font-bold text-white mb-10 tracking-tighter">
            Engineering<br />the Future
          </h2>
          <p class="text-2xl text-gray-300 font-light leading-relaxed mb-12">
            Construimos hoy las infraestructuras que impulsarán el mañana. Sostenibilidad, seguridad y diseño en perfecta armonía.
          </p>
          
          <div class="grid grid-cols-1 md:grid-cols-3 gap-8 text-left">
            <div class="bg-black/40 backdrop-blur-md p-8 rounded-3xl border border-white/10 hover:bg-white/5 transition-all duration-300 hover:-translate-y-2 hover:shadow-[0_10px_30px_rgba(0,0,0,0.5)] group">
              <Shield className="w-10 h-10 text-white mb-6 group-hover:text-blue-400 transition-colors" />
              <h3 class="text-xl font-bold text-white mb-2">Seguridad Total</h3>
              <p class="text-gray-400 text-sm">Protocolos avanzados que protegen su inversión y su equipo.</p>
            </div>
            <div class="bg-black/40 backdrop-blur-md p-8 rounded-3xl border border-white/10 hover:bg-white/5 transition-all duration-300 hover:-translate-y-2 hover:shadow-[0_10px_30px_rgba(0,0,0,0.5)] group">
              <Building2 className="w-10 h-10 text-white mb-6 group-hover:text-purple-400 transition-colors" />
              <h3 class="text-xl font-bold text-white mb-2">Diseño Modular</h3>
              <p class="text-gray-400 text-sm">Espacios adaptables que crecen junto con su empresa.</p>
            </div>
            <div class="bg-black/40 backdrop-blur-md p-8 rounded-3xl border border-white/10 hover:bg-white/5 transition-all duration-300 hover:-translate-y-2 hover:shadow-[0_10px_30px_rgba(0,0,0,0.5)] group">
              <Award className="w-10 h-10 text-white mb-6 group-hover:text-pink-400 transition-colors" />
              <h3 class="text-xl font-bold text-white mb-2">Certificación</h3>
              <p class="text-gray-400 text-sm">Cumplimiento de estándares internacionales de calidad.</p>
            </div>
          </div>
        </div>
      </div>
    </section>
  </ImmersiveWrapper>

  <!-- ============================================ -->
  <!-- PROCESS SECTION - Nuestro proceso de trabajo -->
  <!-- ============================================ -->
  <section
    class="py-24 bg-secondary border-t border-white/5 relative overflow-hidden z-10"
  >
    <div
      class="absolute top-0 right-0 w-[600px] h-[600px] bg-white/[0.02] rounded-full blur-3xl pointer-events-none"
    >
    </div>

    <div class="container mx-auto px-6 relative z-10">
      <div class="text-center mb-20 fade-in-section">
        <h2 class="text-3xl md:text-4xl font-bold text-white mb-4">
          Nuestro Proceso
        </h2>
        <p class="text-text-muted max-w-xl mx-auto">
          Un enfoque sistemático que garantiza resultados excepcionales en cada
          proyecto.
        </p>
      </div>

      <div class="relative">
        <!-- Connecting Line (Desktop) -->
        <div class="hidden md:block absolute top-8 left-0 w-full h-0.5 bg-white/10"></div>
        
        <div
          class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-12 fade-in-section"
        >
          <!-- Step 1 -->
          <div class="text-center group relative">
            <div
              class="w-16 h-16 mx-auto mb-6 bg-primary rounded-full flex items-center justify-center border-2 border-white/10 group-hover:border-white group-hover:bg-white group-hover:text-black transition-all duration-500 relative z-10 group-hover:shadow-[0_0_20px_rgba(255,255,255,0.5)]"
            >
              <span class="text-2xl font-bold">1</span>
            </div>
            <h3 class="text-lg font-bold text-white mb-2 group-hover:text-blue-400 transition-colors">Consulta Inicial</h3>
            <p class="text-text-muted text-sm leading-relaxed">
              Evaluamos sus necesidades y objetivos para diseñar la solución
              perfecta.
            </p>
          </div>

          <!-- Step 2 -->
          <div class="text-center group relative">
            <div
              class="w-16 h-16 mx-auto mb-6 bg-primary rounded-full flex items-center justify-center border-2 border-white/10 group-hover:border-white group-hover:bg-white group-hover:text-black transition-all duration-500 relative z-10 group-hover:shadow-[0_0_20px_rgba(255,255,255,0.5)]"
            >
              <span class="text-2xl font-bold">2</span>
            </div>
            <h3 class="text-lg font-bold text-white mb-2 group-hover:text-purple-400 transition-colors">Planificación</h3>
            <p class="text-text-muted text-sm leading-relaxed">
              Desarrollamos un plan detallado con cronogramas y presupuestos
              claros.
            </p>
          </div>

          <!-- Step 3 -->
          <div class="text-center group relative">
            <div
              class="w-16 h-16 mx-auto mb-6 bg-primary rounded-full flex items-center justify-center border-2 border-white/10 group-hover:border-white group-hover:bg-white group-hover:text-black transition-all duration-500 relative z-10 group-hover:shadow-[0_0_20px_rgba(255,255,255,0.5)]"
            >
              <span class="text-2xl font-bold">3</span>
            </div>
            <h3 class="text-lg font-bold text-white mb-2 group-hover:text-pink-400 transition-colors">Ejecución</h3>
            <p class="text-text-muted text-sm leading-relaxed">
              Implementamos el proyecto con precisión y cumplimiento de
              estándares.
            </p>
          </div>

          <!-- Step 4 -->
          <div class="text-center group relative">
            <div
              class="w-16 h-16 mx-auto mb-6 bg-primary rounded-full flex items-center justify-center border-2 border-white/10 group-hover:border-white group-hover:bg-white group-hover:text-black transition-all duration-500 relative z-10 group-hover:shadow-[0_0_20px_rgba(255,255,255,0.5)]"
            >
              <span class="text-2xl font-bold">4</span>
            </div>
            <h3 class="text-lg font-bold text-white mb-2 group-hover:text-green-400 transition-colors">Seguimiento</h3>
            <p class="text-text-muted text-sm leading-relaxed">
              Brindamos soporte continuo y mantenimiento para asegurar el éxito a
              largo plazo.
            </p>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- ============================================ -->
  <!-- WHY US SECTION - Valores y diferenciadores -->
  <!-- ============================================ -->
  <section
    class="py-24 bg-primary border-t border-white/5 relative overflow-hidden z-10"
  >
    <div
      class="absolute top-0 left-1/2 -translate-x-1/2 w-[800px] h-[800px] bg-white/[0.02] rounded-full blur-3xl pointer-events-none"
    >
    </div>

    <div class="container mx-auto px-6 text-center relative z-10">
      <!-- Encabezado de sección -->
      <div class="fade-in-section">
        <h2 class="text-3xl md:text-4xl font-bold text-white mb-4">
          ¿Por qué elegirnos?
        </h2>
        <p class="text-text-muted max-w-xl mx-auto mb-16">
          Nos diferenciamos por nuestro compromiso con la excelencia y la
          satisfacción del cliente.
        </p>
      </div>

      <!-- Grid de valores -->
      <div
        class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8 fade-in-section"
      >
        <!-- Valor 1: Experiencia -->
        <div
          class="group p-6 rounded-xl bg-secondary/50 border border-white/5 hover:border-white/20 transition-all duration-300 hover:transform hover:scale-105"
        >
          <div class="flex justify-center mb-4">
            <Award
              className="w-12 h-12 text-white group-hover:text-white transition-colors"
            />
          </div>
          <h3 class="text-xl font-bold text-white mb-2">Experiencia</h3>
          <p class="text-text-muted text-sm">
            Más de 15 años liderando proyectos de gran envergadura en el sector
            industrial e institucional.
          </p>
        </div>

        <!-- Valor 2: Calidad -->
        <div
          class="group p-6 rounded-xl bg-secondary/50 border border-white/5 hover:border-white/20 transition-all duration-300 hover:transform hover:scale-105"
        >
          <div class="flex justify-center mb-4">
            <Shield
              className="w-12 h-12 text-white group-hover:text-white transition-colors"
            />
          </div>
          <h3 class="text-xl font-bold text-white mb-2">Calidad</h3>
          <p class="text-text-muted text-sm">
            Materiales de primera línea y mano de obra certificada con
            estándares internacionales.
          </p>
        </div>

        <!-- Valor 3: Compromiso -->
        <div
          class="group p-6 rounded-xl bg-secondary/50 border border-white/5 hover:border-white/20 transition-all duration-300 hover:transform hover:scale-105"
        >
          <div class="flex justify-center mb-4">
            <Clock
              className="w-12 h-12 text-white group-hover:text-white transition-colors"
            />
          </div>
          <h3 class="text-xl font-bold text-white mb-2">Compromiso</h3>
          <p class="text-text-muted text-sm">
            Cumplimiento estricto de plazos y presupuestos, con transparencia en
            cada etapa del proyecto.
          </p>
        </div>

        <!-- Valor 4: Equipo -->
        <div
          class="group p-6 rounded-xl bg-secondary/50 border border-white/5 hover:border-white/20 transition-all duration-300 hover:transform hover:scale-105"
        >
          <div class="flex justify-center mb-4">
            <Users
              className="w-12 h-12 text-white group-hover:text-white transition-colors"
            />
          </div>
          <h3 class="text-xl font-bold text-white mb-2">Equipo Experto</h3>
          <p class="text-text-muted text-sm">
            Profesionales altamente capacitados con certificaciones vigentes y
            formación continua.
          </p>
        </div>
      </div>
    </div>
  </section>

  <!-- ============================================ -->
  <!-- TESTIMONIALS SECTION - Opiniones de clientes -->
  <!-- ============================================ -->
  <section
    class="py-24 bg-secondary border-t border-white/5 relative overflow-hidden z-10"
  >
    <div
      class="absolute bottom-0 left-0 w-[600px] h-[600px] bg-white/[0.02] rounded-full blur-3xl pointer-events-none"
    >
    </div>

    <div class="container mx-auto px-6 relative z-10">
      <div class="text-center mb-16 fade-in-section">
        <h2 class="text-3xl md:text-4xl font-bold text-white mb-4">
          Lo que dicen nuestros clientes
        </h2>
        <p class="text-text-muted max-w-xl mx-auto">
          La satisfacción de nuestros clientes es nuestro mayor logro.
        </p>
      </div>

      <div class="grid grid-cols-1 md:grid-cols-3 gap-8 fade-in-section">
        <!-- Testimonial 1 -->
        <div
          class="bg-primary/50 p-8 rounded-xl border border-white/10 hover:border-white/20 transition-all duration-300"
        >
          <div class="flex mb-4">
            <Star className="w-5 h-5 text-yellow-400 fill-yellow-400" />
            <Star className="w-5 h-5 text-yellow-400 fill-yellow-400" />
            <Star className="w-5 h-5 text-yellow-400 fill-yellow-400" />
            <Star className="w-5 h-5 text-yellow-400 fill-yellow-400" />
            <Star className="w-5 h-5 text-yellow-400 fill-yellow-400" />
          </div>
          <p class="text-text-muted mb-6 italic">
            "Excelente trabajo en la instalación eléctrica de nuestra planta.
            Cumplieron con todos los plazos y el resultado superó nuestras
            expectativas."
          </p>
          <div class="flex items-center">
            <div
              class="w-12 h-12 bg-white/10 rounded-full flex items-center justify-center mr-4"
            >
              <MessageSquare className="w-6 h-6 text-white" />
            </div>
            <div>
              <p class="text-white font-semibold">Carlos Méndez</p>
              <p class="text-text-muted text-sm">
                Director de Operaciones, Industrias XYZ
              </p>
            </div>
          </div>
        </div>

        <!-- Testimonial 2 -->
        <div
          class="bg-primary/50 p-8 rounded-xl border border-white/10 hover:border-white/20 transition-all duration-300"
        >
          <div class="flex mb-4">
            <Star className="w-5 h-5 text-yellow-400 fill-yellow-400" />
            <Star className="w-5 h-5 text-yellow-400 fill-yellow-400" />
            <Star className="w-5 h-5 text-yellow-400 fill-yellow-400" />
            <Star className="w-5 h-5 text-yellow-400 fill-yellow-400" />
            <Star className="w-5 h-5 text-yellow-400 fill-yellow-400" />
          </div>
          <p class="text-text-muted mb-6 italic">
            "Profesionalismo de primer nivel. Su equipo demostró gran
            conocimiento técnico y atención al detalle en cada fase del
            proyecto."
          </p>
          <div class="flex items-center">
            <div
              class="w-12 h-12 bg-white/10 rounded-full flex items-center justify-center mr-4"
            >
              <MessageSquare className="w-6 h-6 text-white" />
            </div>
            <div>
              <p class="text-white font-semibold">Ana Rodríguez</p>
              <p class="text-text-muted text-sm">
                Gerente de Proyectos, Construcciones ABC
              </p>
            </div>
          </div>
        </div>

        <!-- Testimonial 3 -->
        <div
          class="bg-primary/50 p-8 rounded-xl border border-white/10 hover:border-white/20 transition-all duration-300"
        >
          <div class="flex mb-4">
            <Star className="w-5 h-5 text-yellow-400 fill-yellow-400" />
            <Star className="w-5 h-5 text-yellow-400 fill-yellow-400" />
            <Star className="w-5 h-5 text-yellow-400 fill-yellow-400" />
            <Star className="w-5 h-5 text-yellow-400 fill-yellow-400" />
            <Star className="w-5 h-5 text-yellow-400 fill-yellow-400" />
          </div>
          <p class="text-text-muted mb-6 italic">
            "Confiables y eficientes. Han sido nuestro socio estratégico en
            mantenimiento durante años. Altamente recomendados."
          </p>
          <div class="flex items-center">
            <div
              class="w-12 h-12 bg-white/10 rounded-full flex items-center justify-center mr-4"
            >
              <MessageSquare className="w-6 h-6 text-white" />
            </div>
            <div>
              <p class="text-white font-semibold">Roberto Silva</p>
              <p class="text-text-muted text-sm">
                Jefe de Mantenimiento, Hospital Central
              </p>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- ============================================ -->
  <!-- STATS SECTION - Números que respaldan nuestra trayectoria -->
  <!-- ============================================ -->
  <section class="py-20 bg-primary border-t border-white/5 z-10 relative">
    <div class="container mx-auto px-6">
      <div
        class="grid grid-cols-2 md:grid-cols-4 gap-8 text-center fade-in-section"
      >
        <!-- Stat 1 -->
        <div class="group">
          <div
            class="text-4xl md:text-5xl font-bold text-white mb-2 group-hover:scale-110 transition-transform duration-300"
          >
            500+
          </div>
          <div class="text-text-muted text-sm uppercase tracking-wider">
            Proyectos Completados
          </div>
        </div>

        <!-- Stat 2 -->
        <div class="group">
          <div
            class="text-4xl md:text-5xl font-bold text-white mb-2 group-hover:scale-110 transition-transform duration-300"
          >
            15+
          </div>
          <div class="text-text-muted text-sm uppercase tracking-wider">
            Años de Experiencia
          </div>
        </div>

        <!-- Stat 3 -->
        <div class="group">
          <div
            class="text-4xl md:text-5xl font-bold text-white mb-2 group-hover:scale-110 transition-transform duration-300"
          >
            98%
          </div>
          <div class="text-text-muted text-sm uppercase tracking-wider">
            Satisfacción del Cliente
          </div>
        </div>

        <!-- Stat 4 -->
        <div class="group">
          <div
            class="text-4xl md:text-5xl font-bold text-white mb-2 group-hover:scale-110 transition-transform duration-300"
          >
            24/7
          </div>
          <div class="text-text-muted text-sm uppercase tracking-wider">
            Soporte Técnico
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- ============================================ -->
  <!-- FAQ SECTION - Preguntas frecuentes -->
  <!-- ============================================ -->
  <!-- ============================================ -->
  <!-- FAQ SECTION - Preguntas frecuentes -->
  <!-- ============================================ -->
  <FAQ client:idle />

  <!-- ============================================ -->
  <!-- CTA SECTION - Llamada a la acción final -->
  <!-- ============================================ -->
  <section
    class="py-24 bg-primary border-t border-white/5 relative overflow-hidden z-10"
  >
    <!-- Decoración de fondo -->
    <div
      class="absolute inset-0 bg-gradient-to-r from-white/[0.03] via-transparent to-white/[0.03] pointer-events-none"
    >
    </div>

    <div
      class="container mx-auto px-6 text-center relative z-10 fade-in-section"
    >
      <h2 class="text-3xl md:text-4xl font-bold text-white mb-6">
        ¿Listo para iniciar tu proyecto?
      </h2>
      <p class="text-text-muted text-lg max-w-2xl mx-auto mb-10">
        Contáctanos hoy mismo y descubre cómo podemos transformar tus ideas en
        realidad con soluciones técnicas de vanguardia.
      </p>
      <div class="flex flex-col sm:flex-row gap-4 justify-center">
        <a
          href="/contacto"
          class="inline-block px-8 py-4 bg-white text-black font-bold rounded-full hover:bg-gray-200 transition-all duration-300 transform hover:scale-105 shadow-lg"
        >
          Solicitar Cotización
        </a>
        <a
          href="/servicios"
          class="inline-block px-8 py-4 bg-transparent text-white font-bold rounded-full border-2 border-white/20 hover:border-white hover:bg-white/10 transition-all duration-300"
        >
          Ver Todos los Servicios
        </a>
      </div>
    </div>
  </section>
</Layout>

<!-- ============================================ -->
<!-- CUSTOM ANIMATIONS - Animaciones CSS y JavaScript -->
<!-- ============================================ -->
<style>
  /* Fade-in animation for sections */
  .fade-in-section {
    opacity: 0;
    transform: translateY(30px);
    transition:
      opacity 0.8s ease-out,
      transform 0.8s ease-out;
  }

  .fade-in-section.is-visible {
    opacity: 1;
    transform: translateY(0);
  }

  /* Smooth transitions */
  * {
    transition-timing-function: cubic-bezier(0.4, 0, 0.2, 1);
  }
</style>

<script>
  // Function to initialize animations
  function initAnimations() {
    // Intersection Observer for scroll animations
    const observerOptions = {
      threshold: 0.1,
      rootMargin: "0px 0px -100px 0px",
    };

    const observer = new IntersectionObserver((entries) => {
      entries.forEach((entry) => {
        if (entry.isIntersecting) {
          entry.target.classList.add("is-visible");

          // Trigger counter animation if element has counters
          if (entry.target.querySelector(".counter-value")) {
            animateCounters(entry.target);
          }
        } else {
          // Remove class when out of view to replay animation
          entry.target.classList.remove("is-visible");
        }
      });
    }, observerOptions);

    // Observe all fade-in sections
    document.querySelectorAll(".fade-in-section").forEach((section) => {
      observer.observe(section);
    });
  }

  // Counter Animation Logic
  function animateCounters(section) {
    const counters = section.querySelectorAll(".counter-value");

    counters.forEach((counter) => {
      const target = parseInt(counter.getAttribute("data-target"));
      const duration = 2000; // 2 seconds
      const start = 0;
      const startTime = performance.now();

      function update(currentTime) {
        const elapsed = currentTime - startTime;
        const progress = Math.min(elapsed / duration, 1);

        // Easing function for smooth deceleration
        const easeOutQuart = 1 - Math.pow(1 - progress, 4);

        const current = Math.floor(start + (target - start) * easeOutQuart);
        counter.textContent = current;

        if (progress < 1) {
          requestAnimationFrame(update);
        } else {
          counter.textContent = target; // Ensure final value is exact
        }
      }

      requestAnimationFrame(update);
    });
  }

  // Run on initial load
  initAnimations();

  // Run on view transitions navigation
  document.addEventListener("astro:page-load", initAnimations);
</script>
