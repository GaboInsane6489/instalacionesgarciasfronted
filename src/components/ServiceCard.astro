---
/**
 * ServiceCard Component
 *
 * @param {Object} props
 * @param {string} props.title - Service title
 * @param {string} props.description - Service description
 * @param {import('lucide-react').LucideIcon} props.Icon - Lucide icon component
 */
const { title, description, Icon } = Astro.props;
---

<div
  class="service-card group relative p-8 bg-secondary/50 rounded-2xl border border-white/5 overflow-hidden"
  onmousemove="document.getElementById('spotlight-container').style.setProperty('--mouse-x', `${event.clientX}px`); document.getElementById('spotlight-container').style.setProperty('--mouse-y', `${event.clientY}px`);"
>
  <!-- Spotlight Effect Layer -->
  <div
    class="pointer-events-none absolute -inset-px opacity-0 transition duration-300 group-hover:opacity-100"
    style="background: radial-gradient(600px circle at var(--mouse-x) var(--mouse-y), rgba(255,255,255,0.1), transparent 40%);"
  >
  </div>

  <!-- Animated gradient background -->
  <div
    class="absolute inset-0 bg-gradient-to-br from-white/5 via-white/0 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-500"
  >
  </div>

  <div class="relative z-10">
    <!-- Icon with scale animation -->
    <div
      class="mb-6 inline-flex p-3 rounded-xl bg-white/5 text-white transform group-hover:scale-110 group-hover:bg-white/10 transition-all duration-300"
    >
      <Icon className="w-8 h-8" />
    </div>

    <!-- Title with smooth color transition -->
    <h3
      class="text-xl font-bold text-white mb-3 group-hover:text-white transition-colors duration-300"
    >
      {title}
    </h3>

    <!-- Description with smooth color transition -->
    <p
      class="text-text-muted text-sm leading-relaxed group-hover:text-gray-300 transition-colors duration-300"
    >
      {description}
    </p>

    <!-- Learn more link -->
    <div
      class="mt-6 flex items-center text-sm font-medium text-white/60 group-hover:text-white transition-colors"
    >
      <span class="mr-2">MÃ¡s detalles</span>
      <svg
        class="w-4 h-4 transform group-hover:translate-x-1 transition-transform"
        fill="none"
        stroke="currentColor"
        viewBox="0 0 24 24"
        ><path
          stroke-linecap="round"
          stroke-linejoin="round"
          stroke-width="2"
          d="M17 8l4 4m0 0l-4 4m4-4H3"></path></svg
      >
    </div>
  </div>
</div>

<style>
  .service-card {
    /* Smooth hover lift effect */
    transition:
      transform 0.3s cubic-bezier(0.4, 0, 0.2, 1),
      border-color 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  }

  .service-card:hover {
    transform: translateY(-4px);
    border-color: rgba(255, 255, 255, 0.15);
  }

  /* Entrance animation */
  @keyframes fadeInUp {
    from {
      opacity: 0;
      transform: translateY(20px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }

  .service-card {
    animation: fadeInUp 0.6s ease-out;
  }
</style>

<script>
  // Global mouse tracking for spotlight effect
  document.addEventListener("mousemove", (e) => {
    const cards = document.querySelectorAll(".service-card");
    cards.forEach((card) => {
      const rect = card.getBoundingClientRect();
      const x = e.clientX - rect.left;
      const y = e.clientY - rect.top;
      (card as HTMLElement).style.setProperty("--mouse-x", `${x}px`);
      (card as HTMLElement).style.setProperty("--mouse-y", `${y}px`);
    });
  });
</script>
